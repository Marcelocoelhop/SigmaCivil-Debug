<html>

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/custom.css" />
    <link rel="stylesheet" href="css/custom-mobile.css" />
    <link rel="stylesheet" href="css/custom-even.css" />
    <link rel="stylesheet" href="css/jquery.mobile-1.4.5.min.css" />
    <title>Apagar</title>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript" src="js/mc.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/jquery.mobile-1.4.5.min.js"></script>
    <script src="https://kit.fontawesome.com/c202879e33.js" crossorigin="anonymous"></script>
</head>

<body>
    <button onclick="Capture()">Gravar</button>
    <script>
        window.onerror = function (message, url, lineNumber) {
            alert("Error 11: " + message + " in " + url + " at line " + lineNumber);
        }

        function Capture() {
            alert('ponto 1')
            document.addEventListener("deviceready", onDeviceReady, false);
            function onDeviceReady() {
                alert('ponto 3')
                alert('ponto 5:' + navigator.device.capture);
            }

            // capture callback
            var captureSuccess = function (mediaFiles) {
                alert('ponto 2')
                var i, path, len;
                for (i = 0, len = mediaFiles.length; i < len; i += 1) {
                    path = mediaFiles[i].fullPath;
                    // do something interesting with the file
                }
            };

            // capture error callback
            var captureError = function (error) {
                alert('Error code: ' + error.code, null, 'Capture Error');
            };

            // start audio capture
            alert('ponto 4')
            navigator.device.capture.captureAudio(captureSuccess, captureError, { limit: 2 });
        }
    </script>
</body>

</html>